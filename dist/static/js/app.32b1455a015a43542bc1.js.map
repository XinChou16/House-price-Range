{"version":3,"sources":["webpack:///static/js/app.32b1455a015a43542bc1.js","webpack:///./src/components/messageBus.js","webpack:///./src/App.vue?e5da","webpack:///App.vue","webpack:///Navbar.vue","webpack:///Sidebar.vue","webpack:///fangMap.vue","webpack:///./src/main.js","webpack:///./src/components/Navbar.vue?79fa","webpack:///./src/components/Sidebar.vue?01ad","webpack:///./src/components/fangMap.vue?a27a","webpack:///./src/components/fangMap.vue?5805","webpack:///./src/components/Sidebar.vue?0973","webpack:///./src/components/Navbar.vue?c1fd","webpack:///./src/App.vue?0159"],"names":["webpackJsonp","module","exports","__webpack_require__","Object","defineProperty","value","_vue","_vue2","obj","__esModule","default","messageBus","injectStyle","ssrContext","Component","_interopRequireDefault","_Navbar","_Navbar2","_Sidebar","_Sidebar2","_fangMap","_fangMap2","name","components","Navbar","Sidebar","fangMap","_messageBus","_messageBus2","data","msg","districtName","selected","methods","submit","console","log","$emit","getDistInfo","dist","this","$http","post","then","res","body","err","zoneList","mounted","_this","$on","zoneObj","global","map","self","initialize","initMap","getZone","initListenMsg","BMap","mapScript","document","createElement","src","appendChild","Map","centerAndZoom","Point","addControl","MapTypeControl","setCurrentCity","enableScrollWheelZoom","top_left_navigation","NavigationControl","addMapLabel","zoom","options","req","distObj","j","length","point","x","y","opts","position","offset","Size","label","Label","district","priceRateHalfM","setStyle","boxSizing","color","background","fontSize","height","width","maxWidth","borderRadius","paddingTop","paddingLeft","border","lineHeight","overflow","textAlign","fontFamily","addOverlay","disableMassClear","myGeo","Geocoder","addEventListener","getLocation","result","getBoundary","clearOverlays","_this2","k","priceRateHalfY","e","id","_id","priceObj","_this3","getZoom","bs","getBounds","bssw","getSouthWest","bsne","getNorthEast","leftDownLng","lng","leftDownLat","lat","rightTopLng","rightTopLat","_this4","address","substr","Boundary","get","rs","count","boundaries","alert","pointArray","ply","Polygon","strokeWeight","strokeColor","strokeOpacity","concat","getPath","call","_App","_App2","_vueResource","_vueResource2","use","config","productionTip","el","template","App","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","staticRenderFns","_l","zone","_v","_s","href","onsubmit","_m","type","on","click","directives","rawName","expression","change","$event","$$selectedVal","Array","prototype","filter","target","o","_value","multiple","index","domProps","placeholder"],"mappings":"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","file":"static/js/app.32b1455a015a43542bc1.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vue = __webpack_require__(1);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar messageBus = new _vue2.default();\nexports.default = messageBus;\n\n/***/ }),\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(14)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(6),\n  /* template */\n  __webpack_require__(21),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 5 */,\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Navbar = __webpack_require__(15);\n\nvar _Navbar2 = _interopRequireDefault(_Navbar);\n\nvar _Sidebar = __webpack_require__(16);\n\nvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\nvar _fangMap = __webpack_require__(17);\n\nvar _fangMap2 = _interopRequireDefault(_fangMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'App',\n  components: {\n    Navbar: _Navbar2.default,\n    Sidebar: _Sidebar2.default,\n    fangMap: _fangMap2.default\n  }\n}; //\n//\n//\n//\n//\n//\n//\n//\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _messageBus = __webpack_require__(2);\n\nvar _messageBus2 = _interopRequireDefault(_messageBus);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'hello',\n  data: function data() {\n    return {\n      msg: 'Welcome to Your Vue.js App',\n      districtName: [{ name: '浦东' }, { name: '闵行' }, { name: '宝山' }, { name: '徐汇' }, { name: '普陀' }, { name: '杨浦' }, { name: '长宁' }, { name: '松江' }, { name: '嘉定' }, { name: '黄埔' }, { name: '静安' },\n      //   {name:'闸北'}, \n      { name: '虹口' }, { name: '青浦' }, { name: '奉贤' }, { name: '金山' }, { name: '崇明' }],\n      selected: '浦东'\n    };\n  },\n\n  methods: {\n    submit: function submit() {\n      console.log('i am navbar');\n      _messageBus2.default.$emit('submitMsg', 'I am a message'); // 组件通信\n    },\n\n    // 点击下拉菜单\n    getDistInfo: function getDistInfo(dist) {\n      // console.log(this.selected)\n      this.$http.post('/getZone', { dist: dist }).then(function (res) {\n        _messageBus2.default.$emit('transZone', res.body); // 传输小区信息\n      }, function (err) {\n        console.log('getzone出错了');\n        console.log(err);\n      });\n    }\n\n  }\n}; //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _messageBus = __webpack_require__(2);\n\nvar _messageBus2 = _interopRequireDefault(_messageBus);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'hello1',\n  data: function data() {\n    return {\n      msg: 'Welcome to hello1',\n      zoneList: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    _messageBus2.default.$on('transZone', function (zoneObj) {\n      _this.zoneList = zoneObj;\n    });\n  }\n}; //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//\n//\n//\n//\n//\n//\n\n\nexports.default = {\n  name: 'hello2',\n  data: function data() {\n    return {\n      msg: 'hello2',\n      map: null\n    };\n  },\n  mounted: function mounted() {\n    var self = this;\n    global.initialize = function () {\n      self.initMap();\n      self.getZone();\n      self.initListenMsg();\n    };\n    if (global.BMap !== \"undefined\") {\n      var mapScript = document.createElement(\"script\");\n      mapScript.src = \"http://api.map.baidu.com/api?v=2.0&ak=gLq3uGQogi04coH5QrnGfAg50wrAEvkr&callback=initialize\";\n      document.body.appendChild(mapScript);\n    }\n  },\n\n  methods: {\n    initMap: function initMap() {\n      this.map = new BMap.Map(\"allmap\");\n      this.map.centerAndZoom(new BMap.Point(121.48038, 31.23632), 12);\n      this.map.addControl(new BMap.MapTypeControl());\n      this.map.setCurrentCity(\"上海\");\n      this.map.enableScrollWheelZoom(true);\n      var top_left_navigation = new BMap.NavigationControl(); //左上角，添加默认缩放平移控件\n      this.map.addControl(top_left_navigation);\n    },\n\n\n    // 传递消息\n    addMapLabel: function addMapLabel(zoom, options) {\n      var self = this;\n      // console.log('当前放大级别'+zoom)\n      if (zoom > 10 && zoom < 13) {\n        this.$http.post('/getDist', { options: options }).then(function (req) {\n          var _this = this;\n\n          var distObj = req.body;\n\n          var _loop = function _loop(j) {\n            var point = new BMap.Point(distObj[j].x, distObj[j].y);\n            var opts = {\n              position: point, // 指定文本标注所在的地理位置\n              offset: new BMap.Size(10, -10) //设置文本偏移量\n\n              // 添加覆盖物\n            };var label = new BMap.Label(distObj[j].district + \"<br/>\" + distObj[j].priceRateHalfM, opts);\n\n            label.setStyle({\n              boxSizing: \"border-box\",\n              color: \"#fff\",\n              background: \"rgba(0, 151, 177, 0.6)\",\n              fontSize: \"12px\",\n              height: \"100px\",\n              width: \"100px\",\n              maxWidth: \"100px\",\n              borderRadius: \"50%\",\n              paddingTop: \"20px\",\n              paddingLeft: \"5px\",\n              border: \"1px solid transparent\",\n              lineHeight: \"20px\",\n              overflow: \"hidden\",\n              textAlign: \"center\",\n              fontFamily: \"微软雅黑\"\n            });\n            _this.map.addOverlay(label);\n            label.disableMassClear(); //禁止label覆盖物在map.clearOverlays方法中被清除\n\n            //显示行政边界\n            var myGeo = new BMap.Geocoder();\n            label.addEventListener('mouseover', function () {\n              this.setStyle({\n                background: \"rgba(0, 255, 177)\"\n              });\n              // 先拿到point，获取当前行政区，然后调用方法显示区域边界\n              myGeo.getLocation(point, function (result) {\n                self.getBoundary(result);\n              });\n              // console.log('getboundar')\n            });\n            label.addEventListener('mouseout', function () {\n              this.setStyle({\n                background: \"rgba(0, 151, 177)\"\n              });\n              self.map.clearOverlays();\n            });\n          };\n\n          for (var j = 0; j < distObj.length; j++) {\n            _loop(j);\n          }\n        });\n      } else if (zoom > 15) {\n        this.$http.post('/mapGetZone', { options: options }).then(function (req) {\n          var _this2 = this;\n\n          this.map.clearOverlays();\n          var zoneObj = req.body;\n          // console.log(zoneObj) 上千个\n\n          var _loop2 = function _loop2(k) {\n            var point = new BMap.Point(zoneObj[k].y, zoneObj[k].x);\n            var opts = {\n              position: point,\n              offset: new BMap.Size(15, -15)\n              // 添加覆盖物\n            };var label = new BMap.Label(zoneObj[k].name + \"<br/>\" + zoneObj[k].priceRateHalfY, opts);\n\n            label.setStyle({\n              boxSizing: \"border-box\",\n              color: \"#fff\",\n              background: \"rgba(0, 151, 177, 0.6)\",\n              fontSize: \"12px\",\n              height: \"80px\",\n              width: \"80px\",\n              maxWidth: \"80px\",\n              borderRadius: \"50%\",\n              paddingTop: \"15px\",\n              paddingLeft: \"2px\",\n              border: \"1px solid transparent\",\n              lineHeight: \"20px\",\n              overflow: \"hidden\",\n              textAlign: \"center\",\n              fontFamily: \"微软雅黑\"\n            });\n            _this2.map.addOverlay(label);\n            label.addEventListener('click', function (e) {\n              _this2.$http.post('/getPriceHalfY', { id: zoneObj[k]._id }).then(function (priceObj) {\n                // console.log(priceObj);\n              });\n            });\n          };\n\n          for (var k = 0; k < zoneObj.length; k++) {\n            _loop2(k);\n          }\n        });\n      }\n    },\n\n\n    // 添加layer\n    getZone: function getZone() {\n      var _this3 = this;\n\n      this.map.addEventListener('tilesloaded', function () {\n        var zoom = _this3.map.getZoom();\n        var bs = _this3.map.getBounds(); //获取可视区域\n        var bssw = bs.getSouthWest(); //可视区域左下角\n        var bsne = bs.getNorthEast(); //可视区域右上角\n        // alert(\"当前地图可视范围是：\" + bssw.lng + \",\" + bssw.lat + \"到\" + bsne.lng + \",\" + bsne.lat);\n        var options = {\n          leftDownLng: bssw.lng,\n          leftDownLat: bssw.lat,\n          rightTopLng: bsne.lng,\n          rightTopLat: bsne.lat\n\n          // 添加覆盖物\n        };_this3.addMapLabel(zoom, options);\n      });\n    },\n\n\n    // 显示边界\n    getBoundary: function getBoundary(result) {\n      var _this4 = this;\n\n      if (result) {\n        var districtName = result.address.substr(0, 6); // 行政区名\n        // console.log(districtName)\n        var bdary = new BMap.Boundary();\n        bdary.get(districtName, function (rs) {\n          //获取行政区域\n          _this4.map.clearOverlays(); //!!清除地图覆盖物，不清除的话，透明度会出现问题       \n          var count = rs.boundaries.length; //行政区域的点有多少个\n\n          if (count === 0) {\n            alert('未能获取当前输入行政区域');\n            return;\n          }\n          var pointArray = [];\n          for (var j = 0; j < count; j++) {\n            var ply = new BMap.Polygon(rs.boundaries[j], {\n              strokeWeight: 3,\n              strokeColor: \"#3cc\",\n              strokeOpacity: 0.7\n            }); //建立多边形覆盖物  \n            _this4.map.addOverlay(ply);\n            pointArray = pointArray.concat(ply.getPath());\n          }\n        });\n      }\n    },\n\n\n    // 监听消息\n    initListenMsg: function initListenMsg() {\n      console.log('监听消息正在运行...');\n    }\n  }\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _vue = __webpack_require__(1);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _App = __webpack_require__(4);\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _vueResource = __webpack_require__(5);\n\nvar _vueResource2 = _interopRequireDefault(_vueResource);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_vue2.default.use(_vueResource2.default); // The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n_vue2.default.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew _vue2.default({\n  el: '#app',\n  template: '<App/>',\n  components: { App: _App2.default }\n});\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(13)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(7),\n  /* template */\n  __webpack_require__(20),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-766d9886\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(12)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(8),\n  /* template */\n  __webpack_require__(19),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-4575657f\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(11)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(9),\n  /* template */\n  __webpack_require__(18),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-18da756a\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-md-9 map\"\n  }, [_c('div', {\n    ref: \"allmap\",\n    attrs: {\n      \"id\": \"allmap\"\n    }\n  })])\n},staticRenderFns: []}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-md-3 sidebar\"\n  }, [_c('ul', {\n    staticClass: \"list-group \"\n  }, _vm._l((_vm.zoneList), function(zone) {\n    return _c('li', {\n      staticClass: \"list-group-item\"\n    }, [_c('span', {\n      staticClass: \"zoneName\"\n    }, [_vm._v(_vm._s(zone.name))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"riseRate\"\n    }, [_vm._v(_vm._s(zone.priceRateHalfY))])])\n  }))])\n},staticRenderFns: []}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"header navbar\"\n  }, [_c('div', {\n    staticClass: \"col-md-5\"\n  }, [_c('a', {\n    staticClass: \"navbar-brand slogan\",\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"上海房价\")]), _vm._v(\" \"), _c('form', {\n    staticClass: \"navbar-form navbar-left\",\n    attrs: {\n      \"onsubmit\": \"return false\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn btn-default\",\n    attrs: {\n      \"type\": \"submit\"\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_vm._v(\"开始找房\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-3 dist\"\n  }, [_c('p', {\n    staticClass: \"dist-title\",\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"区域选择\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dist-wrap\"\n  }, [_c('select', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.selected),\n      expression: \"selected\"\n    }],\n    attrs: {\n      \"name\": \"\",\n      \"id\": \"districtChoose\"\n    },\n    on: {\n      \"change\": [function($event) {\n        var $$selectedVal = Array.prototype.filter.call($event.target.options, function(o) {\n          return o.selected\n        }).map(function(o) {\n          var val = \"_value\" in o ? o._value : o.value;\n          return val\n        });\n        _vm.selected = $event.target.multiple ? $$selectedVal : $$selectedVal[0]\n      }, function($event) {\n        _vm.getDistInfo(_vm.selected)\n      }]\n    }\n  }, _vm._l((_vm.districtName), function(dist, index) {\n    return _c('option', {\n      domProps: {\n        \"value\": dist.name\n      }\n    }, [_vm._v(_vm._s(dist.name))])\n  })), _vm._v(\" \"), _c('i', {\n    staticClass: \"dropdown\"\n  })])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('input', {\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"输入小区名开始找房\"\n    }\n  })])\n}]}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('Navbar'), _vm._v(\" \"), _c('Sidebar'), _vm._v(\" \"), _c('fangMap')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 22 */,\n/* 23 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n],[10]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.32b1455a015a43542bc1.js","import Vue from 'vue';\nvar messageBus = new Vue();\nexport default messageBus;\n\n\n// WEBPACK FOOTER //\n// ./src/components/messageBus.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-87526d16\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-87526d16\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 4\n// module chunks = 0","<template>\n  <div id=\"app\">\n    <Navbar></Navbar>\n    <Sidebar></Sidebar>\n    <fangMap></fangMap>\n  </div>\n</template>\n\n<script>\nimport Navbar from './components/Navbar'\nimport Sidebar from './components/Sidebar'\nimport fangMap from './components/fangMap'\n\n\nexport default {\n  name: 'App',\n  components: {\n    Navbar,\n    Sidebar,\n    fangMap,\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?c631e352","<template>\n  \n<div class=\"header navbar\">\n    <div class=\"col-md-5\">\n        <a class=\"navbar-brand slogan\" href=\"#\">上海房价</a>\n        <form class=\"navbar-form navbar-left\" onsubmit=\"return false\">\n            <div class=\"form-group\">\n                <input type=\"text\" class=\"form-control\" placeholder=\"输入小区名开始找房\">\n            </div>\n            <button type=\"submit\" class=\"btn btn-default\" @click=\"submit\">开始找房</button>\n        </form>\n    </div> \n    <div class=\"col-md-3 dist\">\n        <p href=\"#\" class=\"dist-title\">区域选择</p>\n        <div class=\"dist-wrap\">\n            <select name=\"\" id=\"districtChoose\" v-on:change=\"getDistInfo(selected)\" v-model=\"selected\">\n                <option v-for=\"(dist,index) in districtName\" v-bind:value=\"dist.name\">{{ dist.name }}</option>\n            </select>\n            <i class=\"dropdown\"></i>\n        </div>\n    </div>\n</div>\n</template>\n \n<script>\n\nimport messageBus from './messageBus'\nexport default {\n  name: 'hello',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App',\n      districtName: [\n          {name:'浦东'},\n          {name:'闵行'},\n          {name:'宝山'},\n          {name:'徐汇'},\n          {name:'普陀'},\n          {name:'杨浦'},\n          {name:'长宁'},\n          {name:'松江'},\n          {name:'嘉定'},\n          {name:'黄埔'},\n          {name:'静安'},\n        //   {name:'闸北'}, \n          {name:'虹口'},\n          {name:'青浦'},\n          {name:'奉贤'},\n          {name:'金山'},\n          {name:'崇明'},\n      ],\n      selected:'浦东',\n    }\n  },\n  methods:{\n    submit:function(){\n      console.log('i am navbar');\n      messageBus.$emit('submitMsg','I am a message');// 组件通信\n    },\n\n    // 点击下拉菜单\n    getDistInfo: function (dist){\n        // console.log(this.selected)\n        this.$http.post('/getZone',{dist:dist}).then(function(res){\n            messageBus.$emit('transZone',res.body);// 传输小区信息\n        },function(err){\n            console.log('getzone出错了')\n            console.log(err)\n        })\n    }\n\n\n\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    h1, h2 {\n    font-weight: normal;\n    }\n\n    ul {\n    list-style-type: none;\n    padding: 0;\n    }\n\n    li {\n    display: inline-block;\n    margin: 0 10px;\n    }\n\n    a {\n    color: #42b983;\n    }\n\n    .title{ \n        float: left;\n        margin-top: 15px;\n    }\n    .header{\n        width: 100%;\n        height: 50px;\n        padding: 0 20px;\n        background-color: #3cc;\n    }\n    .header a{\n        color: #fff;\n    }\n    .header .dist{\n        font-size: 15px;\n        padding: 9px;\n        outline: 1px solid red; \n    }\n    .header .dist select{\n        height: 100%;\n        width: 100%;\n        border: 0;\n    }\n    .header .dist-title{\n        color: #fff;\n        padding-top: 5px;\n    }\n    .header .dist-wrap, .header .dist-title{\n        float: left;\n    }\n    .header .dist-wrap{\n        position: relative;\n        width: 150px;\n        height: 32px;\n        /* overflow: hidden;   */\n        /* outline: 1px solid blue;  */\n    }\n        \n    .header .dist-wrap select{\n        border-radius: 2px;\n        margin-left: 20px;\n        padding-left: 10px;\n        cursor: pointer;\n        appearance:none;\n        -moz-appearance:none;\n        -webkit-appearance:none;\n        -ms-appearance:none;\n    }\n\n    .header .dist-wrap .dropdown{\n        border: 1px solid #1fc8db;\n        border-right: 0;\n        border-top: 0;\n        width: 7px;\n        height: 7px;\n        position: absolute;\n        transform: rotate(-45deg);\n        right: -12px; \n        top: 11px;\n    }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Navbar.vue?a50be8b6","<template>\n  <div class=\"col-md-3 sidebar\">\n    <ul class=\"list-group \">\n        <li class=\"list-group-item\" v-for=\"zone in zoneList\">\n            <span class=\"zoneName\">{{zone.name}}</span>\n            <span class=\"riseRate\">{{zone.priceRateHalfY}}</span>\n        </li>\n    </ul>\n  </div> \n\n</template>\n\n<script>\nimport messageBus from './messageBus'\nexport default {\n  name: 'hello1',\n  data () {\n    return {\n      msg: 'Welcome to hello1',\n      zoneList:[],\n    }\n  },\n  mounted(){\n    messageBus.$on('transZone',(zoneObj)=>{\n       this.zoneList = zoneObj;\n    })\n  }\n\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n.list-group{\n  // outline: 1px solid red;\n}\n.sidebar{\n  height:800px;\n  overflow:scroll;\n  margin-top: -15px;\n  padding-left:0;\n  padding-right:0;\n}\n.list-group-item{\n  width:100%;\n}\n.zoneName{\n  float:left;\n}\n.riseRate{\n  margin-left: 80px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Sidebar.vue?e54c09e6","<template>\n  <div class=\"col-md-9 map\">\n    <div ref=\"allmap\" id=\"allmap\"></div> \n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'hello2',\n  data () {\n    return { \n      msg: 'hello2',\n      map: null,\n    }\n  },\n  mounted () {\n    const self = this;\n    global.initialize = function (){\n      self.initMap();\n      self.getZone();\n      self.initListenMsg();\n    }\n    if(global.BMap !== \"undefined\"){\n      const mapScript = document.createElement(\"script\"); \n      mapScript.src = \"http://api.map.baidu.com/api?v=2.0&ak=gLq3uGQogi04coH5QrnGfAg50wrAEvkr&callback=initialize\";\n      document.body.appendChild(mapScript);\n    }\n    \n  },\n  methods: {\n    initMap() {\n      this.map = new BMap.Map(\"allmap\");\n      this.map.centerAndZoom(new BMap.Point(121.48038, 31.23632), 12); \n      this.map.addControl(new BMap.MapTypeControl()); \n      this.map.setCurrentCity(\"上海\");\n      this.map.enableScrollWheelZoom(true);\n      const top_left_navigation = new BMap.NavigationControl();  //左上角，添加默认缩放平移控件\n      this.map.addControl(top_left_navigation);     \n    },\n\n    // 传递消息\n    addMapLabel(zoom,options) {\n      const self = this;\n      // console.log('当前放大级别'+zoom)\n      if (zoom > 10 && zoom < 13) {\n        this.$http.post('/getDist',{options}).then(function(req){\n          const distObj = req.body;\n\n          for(let j =0;j<distObj.length; j++){\n            const point = new BMap.Point(distObj[j].x,distObj[j].y);\n            const opts = {\n              position : point,    // 指定文本标注所在的地理位置\n              offset   : new BMap.Size(10, -10)    //设置文本偏移量\n            }\n            // 添加覆盖物\n            const label = new BMap.Label(distObj[j].district + \"<br/>\"+distObj[j].priceRateHalfM,opts);\n\n            label.setStyle({\n              boxSizing:\"border-box\",\n              color: \"#fff\",\n              background: \"rgba(0, 151, 177, 0.6)\",\n              fontSize: \"12px\",\n              height: \"100px\",\n              width:\"100px\",\n              maxWidth: \"100px\",\n              borderRadius: \"50%\",\n              paddingTop:\"20px\",\n              paddingLeft:\"5px\",\n              border: \"1px solid transparent\",\n              lineHeight: \"20px\",\n              overflow: \"hidden\",\n              textAlign: \"center\",\n              fontFamily: \"微软雅黑\"\n            });\n            this.map.addOverlay(label);\n            label.disableMassClear();//禁止label覆盖物在map.clearOverlays方法中被清除\n\n            //显示行政边界\n            const myGeo = new BMap.Geocoder();\n            label.addEventListener('mouseover',function ()  {\n              this.setStyle({\n                  background: \"rgba(0, 255, 177)\",\n              })\n              // 先拿到point，获取当前行政区，然后调用方法显示区域边界\n            myGeo.getLocation(point,  (result) => {self.getBoundary(result)});\n            // console.log('getboundar')\n            })\n            label.addEventListener('mouseout',function()  {\n              this.setStyle({\n                  background: \"rgba(0, 151, 177)\",\n              })\n              self.map.clearOverlays();\n            })\n\n\n          }\n        })\n      }else if(zoom >15){\n        this.$http.post('/mapGetZone',{options}).then(function(req){\n          this.map.clearOverlays();\n          const zoneObj = req.body;\n          // console.log(zoneObj) 上千个\n\n          for(let k =0;k<zoneObj.length; k++){\n            const point = new BMap.Point(zoneObj[k].y,zoneObj[k].x);\n            const opts = {\n              position : point,    \n              offset   : new BMap.Size(15, -15)   \n            }\n            // 添加覆盖物\n            const label = new BMap.Label(zoneObj[k].name + \"<br/>\"+zoneObj[k].priceRateHalfY,opts);\n\n            label.setStyle({\n              boxSizing:\"border-box\",\n              color: \"#fff\",\n              background: \"rgba(0, 151, 177, 0.6)\",\n              fontSize: \"12px\",\n              height: \"80px\",\n              width:\"80px\",\n              maxWidth: \"80px\",\n              borderRadius: \"50%\",\n              paddingTop:\"15px\",\n              paddingLeft:\"2px\",\n              border: \"1px solid transparent\",\n              lineHeight: \"20px\",\n              overflow: \"hidden\",\n              textAlign: \"center\",\n              fontFamily: \"微软雅黑\"\n            });\n            this.map.addOverlay(label);\n            label.addEventListener('click',(e)=>{\n              this.$http.post('/getPriceHalfY',{id:zoneObj[k]._id})\n              .then(function(priceObj){\n                // console.log(priceObj);\n              })\n            })\n          }\n\n        })\n      }\n\n    },\n\n    // 添加layer\n    getZone() {\n      this.map.addEventListener('tilesloaded', () =>  {\n        const zoom = this.map.getZoom();\n        const bs = this.map.getBounds(); //获取可视区域\n        const bssw = bs.getSouthWest(); //可视区域左下角\n        const bsne = bs.getNorthEast(); //可视区域右上角\n        // alert(\"当前地图可视范围是：\" + bssw.lng + \",\" + bssw.lat + \"到\" + bsne.lng + \",\" + bsne.lat);\n        const options = {\n            leftDownLng: bssw.lng,\n            leftDownLat: bssw.lat,\n            rightTopLng: bsne.lng,\n            rightTopLat: bsne.lat,\n        }\n\n        // 添加覆盖物\n        this.addMapLabel(zoom,options);\n      })\n    },\n\n    // 显示边界\n    getBoundary(result) {\n      if (result) {\n        const districtName = result.address.substr(0, 6);// 行政区名\n        // console.log(districtName)\n        const bdary = new BMap.Boundary();\n        bdary.get(districtName,  (rs) => { //获取行政区域\n          this.map.clearOverlays();        //!!清除地图覆盖物，不清除的话，透明度会出现问题       \n          const count = rs.boundaries.length; //行政区域的点有多少个\n\n          if (count === 0) {\n            alert('未能获取当前输入行政区域');\n            return;\n          }\n          var pointArray = [];\n          for (let j = 0; j < count; j++) {\n            const ply = new BMap.Polygon(rs.boundaries[j], {\n              strokeWeight: 3,\n              strokeColor: \"#3cc\",\n              strokeOpacity: 0.7\n            }); //建立多边形覆盖物  \n            this.map.addOverlay(ply);\n            pointArray = pointArray.concat(ply.getPath());\n          }\n        });\n      }\n    },\n\n    // 监听消息\n    initListenMsg() {\n        console.log('监听消息正在运行...')\n    },\n\n\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n#allmap{\n  outline: 1px solid #3cc;\n  width: 100%;\n  height:100%;\n}\n.map{\n  padding-left:0;\n  padding-right:0;\n  margin-top: -15px;\n  height: 800px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// fangMap.vue?9f227c42","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport vueResource from 'vue-resource'\n\nVue.use(vueResource);\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-766d9886\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./Navbar.vue\")\n}\nvar Component = require(\"!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./Navbar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-766d9886\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./Navbar.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-766d9886\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Navbar.vue\n// module id = 15\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4575657f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./Sidebar.vue\")\n}\nvar Component = require(\"!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./Sidebar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4575657f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./Sidebar.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-4575657f\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Sidebar.vue\n// module id = 16\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-18da756a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./fangMap.vue\")\n}\nvar Component = require(\"!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./fangMap.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18da756a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./fangMap.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-18da756a\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/fangMap.vue\n// module id = 17\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-md-9 map\"\n  }, [_c('div', {\n    ref: \"allmap\",\n    attrs: {\n      \"id\": \"allmap\"\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-18da756a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/fangMap.vue\n// module id = 18\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-md-3 sidebar\"\n  }, [_c('ul', {\n    staticClass: \"list-group \"\n  }, _vm._l((_vm.zoneList), function(zone) {\n    return _c('li', {\n      staticClass: \"list-group-item\"\n    }, [_c('span', {\n      staticClass: \"zoneName\"\n    }, [_vm._v(_vm._s(zone.name))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"riseRate\"\n    }, [_vm._v(_vm._s(zone.priceRateHalfY))])])\n  }))])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-4575657f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Sidebar.vue\n// module id = 19\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"header navbar\"\n  }, [_c('div', {\n    staticClass: \"col-md-5\"\n  }, [_c('a', {\n    staticClass: \"navbar-brand slogan\",\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"上海房价\")]), _vm._v(\" \"), _c('form', {\n    staticClass: \"navbar-form navbar-left\",\n    attrs: {\n      \"onsubmit\": \"return false\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn btn-default\",\n    attrs: {\n      \"type\": \"submit\"\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_vm._v(\"开始找房\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-3 dist\"\n  }, [_c('p', {\n    staticClass: \"dist-title\",\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"区域选择\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dist-wrap\"\n  }, [_c('select', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.selected),\n      expression: \"selected\"\n    }],\n    attrs: {\n      \"name\": \"\",\n      \"id\": \"districtChoose\"\n    },\n    on: {\n      \"change\": [function($event) {\n        var $$selectedVal = Array.prototype.filter.call($event.target.options, function(o) {\n          return o.selected\n        }).map(function(o) {\n          var val = \"_value\" in o ? o._value : o.value;\n          return val\n        });\n        _vm.selected = $event.target.multiple ? $$selectedVal : $$selectedVal[0]\n      }, function($event) {\n        _vm.getDistInfo(_vm.selected)\n      }]\n    }\n  }, _vm._l((_vm.districtName), function(dist, index) {\n    return _c('option', {\n      domProps: {\n        \"value\": dist.name\n      }\n    }, [_vm._v(_vm._s(dist.name))])\n  })), _vm._v(\" \"), _c('i', {\n    staticClass: \"dropdown\"\n  })])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('input', {\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"输入小区名开始找房\"\n    }\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-766d9886\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Navbar.vue\n// module id = 20\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('Navbar'), _vm._v(\" \"), _c('Sidebar'), _vm._v(\" \"), _c('fangMap')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-87526d16\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 21\n// module chunks = 0"],"sourceRoot":""}